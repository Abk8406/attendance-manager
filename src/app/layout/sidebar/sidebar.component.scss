.backdrop { 
	display: none; 
	position: fixed; 
	inset: 0; 
	background: rgba(0,0,0,0.25); 
	z-index: 900; 
	opacity: 0; 
	transition: opacity .2s; 
}

.sidebar {
	width: 260px;
	min-height: 100vh;
	background: #ffffff; /* light background */
	color: #2c3e50; /* dark text */
	position: sticky;
	top: 0;
	z-index: 1000;
	transition: width 0.3s ease, background 0.2s ease;
	border-right: 1px solid #e5e7eb;

	&.collapsed { 
		width: 70px; 
		.nav-text { display: none; }
	}

	.sidebar-header {
		padding: 20px;
		border-bottom: 1px solid #e5e7eb;
	}

	.toggle { 
		background: transparent; 
		border: none; 
		font-size: 20px; 
		cursor: pointer; 
		color: #2c3e50;
		padding: 8px;
		border-radius: 4px;
		transition: background-color 0.2s;

		&:hover {
			background: rgba(0, 0, 0, 0.04);
		}
	}

	.nav-menu {
		list-style: none;
		padding: 0;
		margin: 0;
	}

	.nav-item, .nav-section {
		display: flex;
		align-items: center;
		padding: 10px 16px;
		cursor: pointer;
		transition: all 0.2s ease;
		border-radius: 10px; /* rounded like ref */
		position: relative;

		&:hover {
			background: #f5f6f7;
		}

		&.active { 
			background: #efe6d2; /* soft beige when active */
		}

		&.child {
			padding-left: 36px;
			font-size: 14px;
			position: relative;
			border-radius: 10px;

			&::before {
				content: none; /* remove grey dot */
			}

			/* decorative left connector */
			&::after {
				content: '';
				position: absolute;
				left: 12px;
				top: 0;
				bottom: 0;
				width: 12px;
				border-left: 2px solid #d7be91; /* beige */
				border-bottom-left-radius: 10px;
				border-top-left-radius: 10px;
				opacity: 0.6;
			}
		}
	}

	.nav-section {
		margin-top: 12px;
		font-weight: 600;
		font-size: 14px;
		cursor: pointer;
		background: #d7be91; /* beige header */
		color: #2c3e50;
		border: none;
		border-radius: 8px;

		&:hover { filter: brightness(0.98); }
	}

	.nav-icon { 
		margin-right: 10px; 
		font-size: 18px; 
		width: 22px; 
		text-align: center; 
		color: #64748b; /* icon color */
	}
	.nav-icon mat-icon { font-size: 22px; line-height: 22px; height: 22px; width: 22px; }

	.nav-text { font-size: 14px; transition: opacity 0.3s ease; }
}

@media (max-width: 992px) {
	.backdrop.show { 
		display: block; 
		opacity: 1; 
	}
	.sidebar { 
		position: fixed; 
		left: 0; 
		top: 0; 
		transform: translateX(-100%); 
		height: 100vh; 
		width: 80vw;
		max-width: 320px;
		overflow-y: auto;
		-webkit-overflow-scrolling: touch;
		box-shadow: 0 8px 24px rgba(0,0,0,0.25); 
		transition: transform .25s ease-in-out; 
		z-index: 1001;
	}
	.sidebar.mobile-open { 
		transform: translateX(0); 
	}
	.sidebar .sidebar-header {
		position: sticky;
		top: 0;
		background: #ffffff;
		z-index: 1002;
	}
	.sidebar .nav-item, 
	.sidebar .nav-section {
		padding: 14px 16px;
	}
	.sidebar .nav-text { font-size: 15px; }
	.sidebar .nav-item.child { padding-left: 38px; }
}
